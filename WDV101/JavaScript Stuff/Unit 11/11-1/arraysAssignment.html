<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WDV221 Intro Javascript - Arrays</title>
    
    <style>
        form {
            border: thin solid gray;
            width: 400px;
            background-color: #9FF;
            margin-left: 50px;
        }
    
        form p {
            padding-left: 5px;
        }
    </style>
    
    <script>
        // 1. Create an array called states
        let states = ["Iowa", "Illinois", "Missouri", "Wisconsin"];
    
        // 2. Create a parallel array called stateSalesTax
        let stateSalesTax = [6, 11, 7, 8];
    
        // 3. Use Javascript to dynamically load the list of states into the drop-down menu
        window.onload = function () {
            let selectState = document.getElementById("selectState");
    
            for (let i = 0; i < states.length; i++) {
                let option = document.createElement("option");
                option.value = i; // Use the index as the value for easy lookup
                option.text = states[i];
                selectState.add(option);
            }
        };
    
        // 4. Create a function called salesTaxLookup()
        function salesTaxLookup() {
          /**
           * This function grabs a selected value (state) from the dropdown and 
           * its corresponding tax rate, using a parallel array.
          */
            let selectState = document.getElementById("selectState");
            let displayTaxRate = document.getElementById("displayTaxRate");
    
            // 5. Use the onchange event handler on the select element to run salesTaxLookup()
            selectState.onchange = function () {
                // 6. The function will use a lookup loop to find where the state is located in the states array.
                let selectedIndex = selectState.value;
    
                // 7. It can then get the corresponding tax rate from the stateSalesTax array.
                let taxRate = stateSalesTax[selectedIndex];
    
                // 8. It will display the tax rate for the selected state.
                displayTaxRate.textContent = taxRate + "%";
            };
        }

        function clearResults() {
          /**
           * This function clears any content in <span id="displayTaxRate">.
          */

          let resultsSpan = document.getElementById("displayTaxRate");
          resultsSpan.textContent = "";

        }

    </script>
    </head>

<body>
<h1>WDV221 Intro Javascript</h1>
<h2>Project 6  Arrays Assignment</h2>
<hr />
<p>Please complete the following exercises on this page. When complete post this page to your  server. Make a link in your WDV221 homework  page for this assignment. </p>
<p>Include a comment in each script with the exercise number and a description of what the script is supposed to do.</p>
<p>Using Blackboard submit this  Assignment.</p>
<hr />
<h3>Lookup Tax Rate Form</h3>
<p>This form will use arrays to load the values into the drop down list. It will allow the user to select a state from the dropdown list. Once it is selected the tax rate for that state will be dislayed on the form.</p>
<form id="form1" name="form1" method="post" action="">
  <p>Please select a state: 
    <select name="selectState" id="selectState">
    	<option>Please select a state</option>
    </select>
  </p>
  <p>The Sales tax rate is: <span id="displayTaxRate"></span> </p>
  <p>
    <input type="reset" name="button2" id="button2" value="Reset" onclick="clearResults()" />
  </p>
</form>
<h3>Instructions:</h3>
<ol>
  <li>Create an array called states that lists the following states in this order: Iowa, Illinois, Missouri, Wisconsin</li>
  <li>Create a parallel array called stateSalesTax that lists the following values in this order: 6%,11%,7%,8%. </li>
  <li>Use Javascript to dynamically load the list of states into the drop down menu. </li>
  <li>Create a function called salesTaxLookup( ).</li>
  <li>Use the onchange event handler on the select element to run salesTaxLookup( )</li>
  <li>The function will use a lookup loop to find where the state is located in the states array. It can then get the corresponding tax rate from the stateSalesTax array.</li>
  <li>It will display the tax rate for the selected state.</li>
</ol>
<script>
  salesTaxLookup();
</script>
</body>
</html>
